(window["webpackJsonptokenclass-web"]=window["webpackJsonptokenclass-web"]||[]).push([[0],{140:function(e,t,r){},145:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAqCAMAAADlP6mgAAAAq1BMVEVHcEwVqu4Xru4XrfAWrfEWrPAYrvIWre8XrO8UqvAWrO8XrfAXrvAXre8XrfAXrPAXrfAUnesWrfAAAP8WrfAWre8WrfEXrPAXrO8WrPAXrfAWrfEWrfAYqucWrfAXrfEVre8Stv8VrO8Xre8XrfAXrvEWrPAVrvEXrfAWrPASrfYWrPAXrvAWrPAPpfAWre8WrvETqvYWrfEAmcwVqvAWrfAXrvAVrO8XrfBO2tOFAAAAOHRSTlMAPCz+oYhhw9IzfmOH0/l7ZA39AZXwXWXVi+qA5BXa6JsOMfWq6LZIu9sc+qnuEaHCG9sFVLdCX1cQR7kAAACLSURBVDjL7Y7JDoJAEERLUFRQVBTcWFxRUHDX/v8vYxIvdMJwJ5l3q8rrBYA26lQzGE8gMB2S4u+AE9XxfOHKilue7lnxxZ3l4yHmK37oUtaW8SEyhNCDjJYSlKCERgtJX4b1F2oxcGZ5oXk6K94wWV5i6pbz5YFtWC5W8xkbWItXg02kV9+3hxZQALx5Uwqj020cAAAAAElFTkSuQmCC"},146:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAqCAMAAAAK/cKeAAABX1BMVEVHcEwXrPEXrvEAtv8XrvIWrfEWrfAUqvAVq/AXrPAXrPAXrfEWrfEXrPAXrfEWrPAWrPEXrfAAgP8AquMWrfASpO0XrfAXqvAXrfAWrfEXrO8WrPAWrfAPpfAWrPIWrfAXrPEXrfAWrfAWrfAXrfAWre8XrfEWrfIWrO8WrO8XrPEWrPAWrfAAqv8WrPAWrPAXrPAVrPAUru8XrvAVrvIVrfAVrfAXrPAWrO8Wre8XrfAUrvMWrfEAqv8XrO8XrO8TrfENrvISrfYWrfEAqv8WqPAWrfAXrfAVrvEWrPAXre8A//8VrfIWrvEUrfUWrfAVrvIXuf8WrvEXrPAWrfEWrO8Xre8Wre4WrfAWrPEXrfAVr+8WrvAXre8XrfAWrfAWrPAVqvAVrvEXrPAXrvAXrfEXrO8OqvEXrfAXrvEWrfAUsfIYquwSp+0XrvAWrPATrvMUrvIXrfEVqu4XrfA/f6cmAAAAdHRSTlMAjpAHTH/wM3eHeOjl4XDMR/4CCdwO+CGGovT67xFy+1nW/P2+ofk7gVCzmegGiCKEeD+HPFeF9LBR4T+hA7BiNRMc+wkju+lr7o8BYNgZq2ELwqlq5Hw7zVzcMEXU07itVG7tQvedEutYdic2HdLbKUykPLsEVyQAAAE2SURBVDjL3ZNVU8RQDEYDFFmWpbLugru7u7u7u0P+/3Bv6W6FpvvKcB6a+ZIzc3s7KYCGf36xUCc0BFbaBtFMgdVoRCudZkGp5c2Fih+iPPSajSLWCgxkU7z/9zHcaNLjxJStUW7Ic3kN9781gpIgNIii2CroxBBHWen2snlLWEYatwTgQkf6JqHZ2cAE8GdNXakdPR42c3GjGgjGs0a9ofn+HDekiGYU5zofb4jJz7tcLrEaD1Xqy51uUIb3Hl+/Xh4zuEsZx4hPrNziPmUc4A0vl7hDGXuI16yc4SZlKCd4lbg4R1wm73IUU++ytUQaEAxH8XBbob8Hw4OVhvSXjVlZsjG6DL3pGUMYCWiGz0/s2Ji6Y3wlfO1lNnQMJ9ksBOk8u74OKdlRWGF/XSqdIeeRtVX4Bj1g2RghBkeLAAAAAElFTkSuQmCC"},148:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(9),c=r.n(o),s=(r(78),r(79),r(80),r(36)),i=r.n(s),l=r(30),u=(r(134),r(14)),f=r.n(u),A=r(31),d=r(32),p=r(34),v=r(33),m=r(13),h=r(35),g=(r(140),function(e){function t(e){var r;return Object(A.a)(this,t),(r=Object(p.a)(this,Object(v.a)(t).apply(this,arguments))).state={count:e.startCount},console.log("11111111111111",e),r}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.intervalHandle=setInterval(function(){var t=e.state.count-1;t>=0?e.setState({count:t}):clearInterval(e.intervalHandle)},1e3)}},{key:"render",value:function(){return this.props.children(this.state.count)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalHandle)}}]),t}(a.a.Component)),E=r(51),b=r.n(E),O=r(72),X=r(71),W=r(52);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(r,!0).forEach(function(t){Object(l.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var j=r(142),y=["passwd"],C=function(e){var t=new Error(e.code);throw t.message=e.msg,t.code=e.code,t},k=function(e){var t=e.resp,r=e.json;return console.log(t,r),t.status>=200&&t.status<300?r:(t.status,C(r),r)},V=function(){var e=Object(X.a)(b.a.mark(function e(t,r){var n,a,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.headers,a=Object(O.a)(r,["headers"]),o=P({},n),console.log("\u8bf7\u6c42\u5934\u4fe1\u606f:",o),console.log("\u8bf7\u6c42\u5730\u5740:",W.server+t,"\u8bf7\u6c42\u4fe1\u606f:",a),e.abrupt("return",fetch(W.server+t,P({},a,{headers:o})).then(function(e){return e.json().then(function(t){return{resp:e,json:t}}).catch(function(t){return{resp:e,json:{},error:t}})}).then(k));case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),_=function(e){return console.log(e),Object.keys(e).map(function(t){return"".concat(encodeURIComponent(t),"=").concat("string"==typeof e[t]?y.indexOf(t)>=0?encodeURIComponent(j(e[t])):encodeURIComponent(e[t].replace(/\s+/g,"")):encodeURIComponent(e[t]))}).join("&")},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=n?t:_(t);return V(e,{method:"POST",headers:P({"Content-Type":"application/x-www-form-urlencoded"},r),body:a}).then(function(e){return e}).catch(function(e){return e})};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var q=r(145),I=r(146),S=function(){var e={};""!==window.location.search&&window.location.search.substr(1).split("&").map(function(t){var r=t.split("=");e[r[0]]=r[1]});return e}(),x=navigator.userAgent,N=x.match(/mobile/i)?x.match(/iphone/i)?"IOS":"Android":"PC",R=function(e){var t=e.is_sending,r=e.on_end;return a.a.createElement("div",{className:t?"msg_disable":"msg_active"},t?a.a.createElement(g,{startCount:60},function(e){return e<=0&&r(),a.a.createElement("p",null,e+"s")}):"\u53d1\u9001\u9a8c\u8bc1\u7801")};var H=U,D=function(e){function t(e){var r;return Object(A.a)(this,t),(r=Object(p.a)(this,Object(v.a)(t).call(this,e))).state={is_sending:!1,password:""},r.form_data={phone:"",smscode:"",passwd:""},r.send_msg=r.send_msg.bind(Object(m.a)(r)),r.toggle_sendBtn=r.toggle_sendBtn.bind(Object(m.a)(r)),r.init=r.init.bind(Object(m.a)(r)),r.confirm=r.confirm.bind(Object(m.a)(r)),r.set_data=r.set_data.bind(Object(m.a)(r)),r}return Object(h.a)(t,e),Object(d.a)(t,[{key:"init",value:function(){this.form_data={phone:"",smscode:"",passwd:""}}},{key:"send_msg",value:function(){var e=this.state.is_sending,t=this.form_data.phone.replace(/' '/g,"");if(!e){if(t.length<11)return f.a.info("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7");this.toggle_sendBtn(),H("/tokenclass/user/v1/sms/send",{countrycode:"86",phone:t,businesstype:1e3}).then(function(e){0==e.code?f.a.info("\u53d1\u9001\u6210\u529f"):f.a.info("\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}}},{key:"toggle_sendBtn",value:function(){this.setState({is_sending:!this.state.is_sending})}},{key:"confirm",value:function(){var e=this,t=this.form_data,r=t.phone,n=t.smscode,a=this.state.password;if(!r||!n||!a)return f.a.info("\u6709\u672a\u5b8c\u6210\u9879");var o,c=(o=a,new RegExp(/[\u4E00-\u9FA5]/).test(o)?"\u5bc6\u7801\u683c\u5f0f\u9519\u8bef":o.length<6?"\u5bc6\u7801\u6700\u5c116\u4f4d":"");if(c)return f.a.info(c);H("/tokenclass/user/v1/register",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(r,!0).forEach(function(t){Object(l.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({channel:1,ver:"0.0.1",platform:N,zone:"CN",countrycode:"86",invitation:S.invitecode},this.form_data,{passwd:a})).then(function(t){console.log("\u6ce8\u518c",t),0==t.code?(f.a.info("\u6ce8\u518c\u6210\u529f"),e.init()):f.a.info("\u6ce8\u518c\u5931\u8d25")})}},{key:"set_data",value:function(e,t){this.form_data[e]=t}},{key:"render",value:function(){var e=this,t=this.state.is_sending;return a.a.createElement("div",{className:"register_wrap"},a.a.createElement("div",{className:"register_head"},"TokenClass"),a.a.createElement("div",{className:"form_box"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",type:"phone",labelNumber:3,onChange:function(t){e.set_data("phone",t.replace(/\s+/g,""))}},a.a.createElement("img",{src:q,className:"input_icon"}))),a.a.createElement("li",null,a.a.createElement(i.a,{placeholder:"\u9a8c\u8bc1\u7801",type:"number",maxLength:6,labelNumber:3,extra:a.a.createElement(R,{is_sending:t,on_end:this.toggle_sendBtn}),onExtraClick:this.send_msg,onChange:function(t){e.set_data("smscode",t)}},a.a.createElement("img",{src:I,className:"input_icon"}))),a.a.createElement("li",null,a.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password",value:this.state.password,maxLength:11,labelNumber:3,onChange:function(t){e.setState({password:t.replace(/\s/g,"")})}},a.a.createElement("img",{src:I,className:"input_icon"})))),a.a.createElement("div",{className:"confirm_btn",onClick:this.confirm},"\u7acb\u5373\u6ce8\u518c"),a.a.createElement("div",{className:"law"},"\u6ce8\u518c\u4ee3\u8868\u60a8\u540c\u610f",a.a.createElement("i",{className:"law_btn"},"\u300a\u7528\u6237\u534f\u8bae\u300b"))),a.a.createElement("div",null))}}]),t}(a.a.Component);var G=function(){return a.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,t){e.exports={server:"https://test.tokenclass.com"}},73:function(e,t,r){e.exports=r(148)},78:function(e,t,r){},79:function(e,t,r){}},[[73,1,2]]]);
//# sourceMappingURL=main.0c1319e9.chunk.js.map