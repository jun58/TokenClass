(window["webpackJsonptokenclass-web"]=window["webpackJsonptokenclass-web"]||[]).push([[0],{139:function(e,r,t){},141:function(e,r){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAqCAMAAADlP6mgAAAAq1BMVEVHcEwVqu4Xru4XrfAWrfEWrPAYrvIWre8XrO8UqvAWrO8XrfAXrvAXre8XrfAXrPAXrfAUnesWrfAAAP8WrfAWre8WrfEXrPAXrO8WrPAXrfAWrfEWrfAYqucWrfAXrfEVre8Stv8VrO8Xre8XrfAXrvEWrPAVrvEXrfAWrPASrfYWrPAXrvAWrPAPpfAWre8WrvETqvYWrfEAmcwVqvAWrfAXrvAVrO8XrfBO2tOFAAAAOHRSTlMAPCz+oYhhw9IzfmOH0/l7ZA39AZXwXWXVi+qA5BXa6JsOMfWq6LZIu9sc+qnuEaHCG9sFVLdCX1cQR7kAAACLSURBVDjL7Y7JDoJAEERLUFRQVBTcWFxRUHDX/v8vYxIvdMJwJ5l3q8rrBYA26lQzGE8gMB2S4u+AE9XxfOHKilue7lnxxZ3l4yHmK37oUtaW8SEyhNCDjJYSlKCERgtJX4b1F2oxcGZ5oXk6K94wWV5i6pbz5YFtWC5W8xkbWItXg02kV9+3hxZQALx5Uwqj020cAAAAAElFTkSuQmCC"},142:function(e,r){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAqCAMAAAAK/cKeAAABX1BMVEVHcEwXrPEXrvEAtv8XrvIWrfEWrfAUqvAVq/AXrPAXrPAXrfEWrfEXrPAXrfEWrPAWrPEXrfAAgP8AquMWrfASpO0XrfAXqvAXrfAWrfEXrO8WrPAWrfAPpfAWrPIWrfAXrPEXrfAWrfAWrfAXrfAWre8XrfEWrfIWrO8WrO8XrPEWrPAWrfAAqv8WrPAWrPAXrPAVrPAUru8XrvAVrvIVrfAVrfAXrPAWrO8Wre8XrfAUrvMWrfEAqv8XrO8XrO8TrfENrvISrfYWrfEAqv8WqPAWrfAXrfAVrvEWrPAXre8A//8VrfIWrvEUrfUWrfAVrvIXuf8WrvEXrPAWrfEWrO8Xre8Wre4WrfAWrPEXrfAVr+8WrvAXre8XrfAWrfAWrPAVqvAVrvEXrPAXrvAXrfEXrO8OqvEXrfAXrvEWrfAUsfIYquwSp+0XrvAWrPATrvMUrvIXrfEVqu4XrfA/f6cmAAAAdHRSTlMAjpAHTH/wM3eHeOjl4XDMR/4CCdwO+CGGovT67xFy+1nW/P2+ofk7gVCzmegGiCKEeD+HPFeF9LBR4T+hA7BiNRMc+wkju+lr7o8BYNgZq2ELwqlq5Hw7zVzcMEXU07itVG7tQvedEutYdic2HdLbKUykPLsEVyQAAAE2SURBVDjL3ZNVU8RQDEYDFFmWpbLugru7u7u7u0P+/3Bv6W6FpvvKcB6a+ZIzc3s7KYCGf36xUCc0BFbaBtFMgdVoRCudZkGp5c2Fih+iPPSajSLWCgxkU7z/9zHcaNLjxJStUW7Ic3kN9781gpIgNIii2CroxBBHWen2snlLWEYatwTgQkf6JqHZ2cAE8GdNXakdPR42c3GjGgjGs0a9ofn+HDekiGYU5zofb4jJz7tcLrEaD1Xqy51uUIb3Hl+/Xh4zuEsZx4hPrNziPmUc4A0vl7hDGXuI16yc4SZlKCd4lbg4R1wm73IUU++ytUQaEAxH8XBbob8Hw4OVhvSXjVlZsjG6DL3pGUMYCWiGz0/s2Ji6Y3wlfO1lNnQMJ9ksBOk8u74OKdlRWGF/XSqdIeeRtVX4Bj1g2RghBkeLAAAAAElFTkSuQmCC"},144:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),o=t(9),c=t.n(o),s=(t(77),t(78),t(79),t(36)),i=t.n(s),l=t(30),u=(t(133),t(14)),f=t.n(u),A=t(31),d=t(32),v=t(34),p=t(33),m=t(13),h=t(35),g=(t(139),function(e){function r(e){var t;return Object(A.a)(this,r),(t=Object(v.a)(this,Object(p.a)(r).apply(this,arguments))).state={count:e.startCount},console.log("11111111111111",e),t}return Object(h.a)(r,e),Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.intervalHandle=setInterval(function(){var r=e.state.count-1;r>=0?e.setState({count:r}):clearInterval(e.intervalHandle)},1e3)}},{key:"render",value:function(){return this.props.children(this.state.count)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalHandle)}}]),r}(a.a.Component)),E=t(51),b=t.n(E),X=t(71),O=t(70),W=t(52);function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(t,!0).forEach(function(r){Object(l.a)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var j=function(e){var r=new Error(e.code);throw r.message=e.msg,r.code=e.code,r},y=function(e){var r=e.resp,t=e.json;return console.log(r,t),r.status>=200&&r.status<300?t:(r.status,j(t),t)},k=function(){var e=Object(O.a)(b.a.mark(function e(r,t){var n,a,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.headers,a=Object(X.a)(t,["headers"]),o=P({},n),console.log("\u8bf7\u6c42\u5934\u4fe1\u606f:",o),console.log("\u8bf7\u6c42\u5730\u5740:",W.server+r,"\u8bf7\u6c42\u4fe1\u606f:",a),e.abrupt("return",fetch(W.server+r,P({},a,{headers:o})).then(function(e){return e.json().then(function(r){return{resp:e,json:r}}).catch(function(r){return{resp:e,json:{},error:r}})}).then(y));case 5:case"end":return e.stop()}},e)}));return function(r,t){return e.apply(this,arguments)}}(),C=function(e){return console.log(e),Object.keys(e).map(function(r){return"".concat(encodeURIComponent(r),"=").concat("string"==typeof e[r]?encodeURIComponent(e[r].replace(/\s+/g,"")):encodeURIComponent(e[r]))}).join("&")},V=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=n?r:C(r);return k(e,{method:"POST",headers:P({"Content-Type":"application/x-www-form-urlencoded"},t),body:a}).then(function(e){return e}).catch(function(e){return e})};function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}var U=t(141),B=t(142),q=function(){var e={};""!==window.location.search&&window.location.search.substr(1).split("&").map(function(r){var t=r.split("=");e[t[0]]=t[1]});return e}(),S=navigator.userAgent,I=S.match(/mobile/i)?S.match(/iphone/i)?"IOS":"Android":"PC",x=function(e){var r=e.is_sending,t=e.on_end;return a.a.createElement("div",{className:r?"msg_disable":"msg_active"},r?a.a.createElement(g,{startCount:60},function(e){return e<=0&&t(),a.a.createElement("p",null,e+"s")}):"\u53d1\u9001\u9a8c\u8bc1\u7801")};var N=V,H=function(e){function r(e){var t;return Object(A.a)(this,r),(t=Object(v.a)(this,Object(p.a)(r).call(this,e))).state={is_sending:!1,password:""},t.form_data={phone:"",smscode:"",passwd:""},t.send_msg=t.send_msg.bind(Object(m.a)(t)),t.toggle_sendBtn=t.toggle_sendBtn.bind(Object(m.a)(t)),t.init=t.init.bind(Object(m.a)(t)),t.confirm=t.confirm.bind(Object(m.a)(t)),t.set_data=t.set_data.bind(Object(m.a)(t)),t}return Object(h.a)(r,e),Object(d.a)(r,[{key:"init",value:function(){this.form_data={phone:"",smscode:"",passwd:""}}},{key:"send_msg",value:function(){var e=this.state.is_sending,r=this.form_data.phone.replace(/' '/g,"");if(!e){if(r.length<11)return f.a.info("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7");this.toggle_sendBtn(),N("/tokenclass/user/v1/sms/send",{countrycode:"86",phone:r,businesstype:1e3}).then(function(e){0==e.code?f.a.info("\u53d1\u9001\u6210\u529f"):f.a.info("\u53d1\u9001\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}}},{key:"toggle_sendBtn",value:function(){this.setState({is_sending:!this.state.is_sending})}},{key:"confirm",value:function(){var e=this,r=this.form_data,t=r.phone,n=r.smscode,a=this.state.password;if(!t||!n||!a)return f.a.info("\u6709\u672a\u5b8c\u6210\u9879");var o,c=(o=a,new RegExp(/[\u4E00-\u9FA5]/).test(o)?"\u5bc6\u7801\u683c\u5f0f\u9519\u8bef":o.length<6?"\u5bc6\u7801\u6700\u5c116\u4f4d":"");if(c)return f.a.info(c);N("/tokenclass/user/v1/register",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(t,!0).forEach(function(r){Object(l.a)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({channel:1,ver:"0.0.1",platform:I,zone:"CN",countrycode:"86",invitation:q.invitecode},this.form_data,{passwd:a})).then(function(r){console.log("\u6ce8\u518c",r),0==r.code?(f.a.info("\u6ce8\u518c\u6210\u529f"),e.init()):f.a.info("\u6ce8\u518c\u5931\u8d25")})}},{key:"set_data",value:function(e,r){this.form_data[e]=r}},{key:"render",value:function(){var e=this,r=this.state.is_sending;return a.a.createElement("div",{className:"register_wrap"},a.a.createElement("div",{className:"register_head"},"TokenClass"),a.a.createElement("div",{className:"form_box"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",type:"phone",labelNumber:3,onChange:function(r){e.set_data("phone",r.replace(/\s+/g,""))}},a.a.createElement("img",{src:U,className:"input_icon"}))),a.a.createElement("li",null,a.a.createElement(i.a,{placeholder:"\u9a8c\u8bc1\u7801",type:"number",maxLength:6,labelNumber:3,extra:a.a.createElement(x,{is_sending:r,on_end:this.toggle_sendBtn}),onExtraClick:this.send_msg,onChange:function(r){e.set_data("smscode",r)}},a.a.createElement("img",{src:B,className:"input_icon"}))),a.a.createElement("li",null,a.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password",value:this.state.password,maxLength:11,labelNumber:3,onChange:function(r){e.setState({password:r.replace(/\s/g,"")})}},a.a.createElement("img",{src:B,className:"input_icon"})))),a.a.createElement("div",{className:"confirm_btn",onClick:this.confirm},"\u7acb\u5373\u6ce8\u518c"),a.a.createElement("div",{className:"law"},"\u6ce8\u518c\u4ee3\u8868\u60a8\u540c\u610f",a.a.createElement("i",{className:"law_btn"},"\u300a\u7528\u6237\u534f\u8bae\u300b"))),a.a.createElement("div",null))}}]),r}(a.a.Component);var R=function(){return a.a.createElement(H,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},52:function(e,r){e.exports={server:"http://test.tokenclass.com"}},72:function(e,r,t){e.exports=t(144)},77:function(e,r,t){},78:function(e,r,t){}},[[72,1,2]]]);
//# sourceMappingURL=main.1ac6875d.chunk.js.map